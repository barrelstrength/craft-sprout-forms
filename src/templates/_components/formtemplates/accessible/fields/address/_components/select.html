
{%- set value = value ? value : null %}

{%- set errors = errors is defined ? errors : null -%}

{%- set class = [
    'select',
    class is defined ? class : null
]|filter|join(' ') %}

{%- set fieldClass = [
    first is defined and first ? 'first' : null,
    errors ? 'has-errors' : null,
    fieldClass is defined and fieldClass ? fieldClass : null
]|filter|join(' ') -%}

{% if hidden is defined and hidden %}

    <div class="hidden {{ fieldClass }}">
        <div class="{{ class }}">
            <input type="hidden" name="{{ name }}" value="{{ value }}"/>
        </div>
    </div>

{% else %}
    {% spaceless %}
    <div class="field">
        <div class="heading">
            <label>{{ label }}</label>
        </div>
        <div class="input">
            <select
                    {% if inputName == 'countryCode' %}
                        onChange="loadAdministrativeArea('{{ actionUrl }}', this, '{{ name }}')"
                    {% endif %}
                    {%- if name %} name="{{ name }}"{% endif %}
                    {%- if class %} class="{{ class }}"{% endif %}
            >
                {%- for key, option in options -%}

                <option value="{{ key }}"
                        {% if key == value %}selected{% endif %}>{{ option }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    {% endspaceless %}
{% endif %}
